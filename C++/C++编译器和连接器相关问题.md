总共分为：**预处理->编译->汇编->链接**。

#### 具体细节：

1.**预处理**：预处理阶段没有代码执行，只有简单的文本替换，处理各种#指令。处理后的结果通常会保存在.i文件里，但这些文件一般默认不会被保留。

 2.**编译**：对代码进行语法分析和语义分析，说白了就是挑刺儿，如果没问题，会把代码编译输出成.obj文件。这些.obj文件中包含了汇编代码。

3.**汇编**：把汇编语言转换成机械语言。

4.**链接**：把所有.obj文件链接(linked)起来，找到每个变量和函数在哪里，生成一个单一的可执行文件(.exe)。

> [!info] 编译之后
> 
> [!NOTE]
> 链接完成后需要有一个入口，一般默认是main，但这个接口可以设置成任意名称








#### 编译和链接带来的限制
  链接的作用我们提到过：确定每个函数和变量的位置，换句话说，确定他们的声明和定义地方，变量默认是不许重名的，但函数却会出现重名的情况，这时候如果有若干个声明和若干的同样重名 重返回值 重参数的定义出现，链接器就不知道声明应该链接哪一个定义了，此时便会报错.
  
为了避免重复定义函数而不自知，我们一般重造一个cpp文件专门放置一类的函数定义。

并在h文件中专门放置函数的声明。

在其他cpp文件中使用这些函数时，就#include相对应的.h文件，就可直接使用。

> [!举例]
> log.cpp log.h  main.c三个文件中，log.cpp负责定义相对应函数，log.h负责声明log.cpp中的对应函数，main.c文件想使用这些函数时，直接 #include"log.h"文件，就可以直接使用log.cpp中的函数了，避免了不同文件中重复定义的风险。

如不想如此，可在同名称函数前加入***static*** 关键字，如此就是一个文件的专属函数，不会跟其他文件的同名函数冲突。

或者***inline***关键字，它的作用就是当使用函数时，直接返回函数内容，而不是调用，一般用于代码量较小的函数。



